<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KENNETH OMONDI | ADMIN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .admin-hidden { display: none; }
        .card { border: 2px solid #000; padding: 10px; background: white; margin-bottom: 10px; }
        .save-btn { background: #16a34a; color: white; padding: 10px; width: 100%; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body class="bg-gray-100 pb-20">
    <div id="user-view">
        <nav class="bg-black p-4 text-center text-yellow-400 font-bold uppercase">
            KENNETH OMONDI WARE
            <button onclick="showLogin()" class="block mx-auto text-[8px] text-gray-700">Admin</button>
        </nav>
        <div class="p-4">
            <h2 class="font-black border-l-4 border-yellow-500 pl-2 mb-4">AVAILABLE MATERIALS</h2>
            <div id="products-display" class="grid grid-cols-1 gap-4"></div>
        </div>
    </div>

    <div id="login-screen" class="admin-hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-6">
        <div class="bg-white p-6 rounded-lg w-full max-w-sm">
            <h2 class="font-bold mb-4">Admin Access</h2>
            <input type="password" id="pass-input" placeholder="Enter Password" class="w-full border p-2 mb-4">
            <button onclick="checkPass()" class="bg-black text-white w-full p-2">Login</button>
            <button onclick="hideLogin()" class="w-full p-2 text-gray-500 text-sm">Cancel</button>
        </div>
    </div>

    <div id="admin-dashboard" class="admin-hidden p-4">
        <h1 class="text-2xl font-black mb-4">DASHBOARD</h1>
        <div id="editor-list"></div>
        <button onclick="saveChanges()" class="save-btn">APPLY CHANGES TO SITE</button>
        <button onclick="logout()" class="w-full mt-4 text-red-600 font-bold">Logout</button>
    </div>

    <script>
        // Data Store
        let inventory = JSON.parse(localStorage.getItem('kenneth_data')) || [
            { id: 0, name: "Grey Stone", price: "53/ft" },
            { id: 1, name: "Red Stone", price: "53/ft" },
            { id: 2, name: "Ballast (10T)", price: "28,000" },
            { id: 3, name: "Murram (10T)", price: "9,000" }
        ];

        function render() {
            const display = document.getElementById('products-display');
            const editor = document.getElementById('editor-list');
            display.innerHTML = ''; editor.innerHTML = '';

            inventory.forEach((item, index) => {
                display.innerHTML += <div class="card"><b></b>: Ksh </div>;
                editor.innerHTML += 
                    <div class="card">
                        <label class="text-xs">Item Name</label>
                        <input class="w-full border mb-2 p-1" value="" onchange="updateData(, 'name', this.value)">
                        <label class="text-xs">Price</label>
                        <input class="w-full border p-1" value="" onchange="updateData(, 'price', this.value)">
                    </div>;
            });
        }

        function updateData(index, key, val) { inventory[index][key] = val; }
        function showLogin() { document.getElementById('login-screen').classList.remove('admin-hidden'); }
        function hideLogin() { document.getElementById('login-screen').classList.add('admin-hidden'); }
        
        function checkPass() {
            if(document.getElementById('pass-input').value === '1234') {
                document.getElementById('login-screen').classList.add('admin-hidden');
                document.getElementById('user-view').classList.add('admin-hidden');
                document.getElementById('admin-dashboard').classList.remove('admin-hidden');
            } else { alert('Wrong Password'); }
        }

        function saveChanges() {
            localStorage.setItem('kenneth_data', JSON.stringify(inventory));
            alert('Prices Updated!');
            location.reload();
        }

        function logout() { location.reload(); }
        render();
    </script>
</body>
</html>
